/*
** This file is part of exAmour

** Copyright (C) Remy Saissy <remy.saissy@epitech.net>
** exAmour is free software; you can redistribute it and/or modify
** it under the terms of the GNU General Public License as published by
** the Free Software Foundation; either version 2 of the License, or
** (at your option) any later version.

** exAmour is distributed in the hope that it will be useful,
** but WITHOUT ANY WARRANTY; without even the implied warranty of
** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
** GNU General Public License for more details.

** You should have received a copy of the GNU General Public License
** along with this program; if not, write to the Free Software
** Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
*/

/**
 * This file contains the memory area dedicated to a certain use.
 * It includes bios memory mapping, memory mapped io, ...
 */

/*
 * Each entry is in the following form: 
 * MEM_ENTRY(id, base_addr, length, type)
 *
 * - id is the identification name of the area.
 * - base_addr is the starting physical address of the area.
 * - length is the length in bytes.
 * - type is the type of area. Available types are in mm/include/phymem.h.
 */

/*
 * Note: the difference between HWMAP and IOMAP for an environment is that
 * an HWMAP can be freely mapped in readonly at several places.
 * An IOMAP is managed more carefully which means that only one mapping
 * read/write at a time is allowed and this master mapping say if it is
 * allowed to have read only mapping.
 */

/* < 1Mb area. */

/** Realmode ivt (interrupt vector table). */
MEM_ENTRY(REALMODE_IVT, 0x0, 0x400, HWMAP_PAGE) 

/** Bda (bios data area). */
MEM_ENTRY(BDA, 0x400, 0x100, HWMAP_PAGE)

/** Conventional memory. It is not a free page because of the multi cpu spec. */
MEM_ENTRY(LOW_MEM, 0x500, 0x9f900, HWMAP_PAGE)

/** Ebda (extended bios data area). */
MEM_ENTRY(EBDA, 0x9fc00, 0x400, HWMAP_PAGE)

/* ROM area */

/** VGA framebuffer. */
MEM_ENTRY(VGA_FB, 0xa0000, 0x10000, IOMAP_PAGE)

/** VGA monochrome. */
MEM_ENTRY(VGA_MONO, 0xb0000, 0x8000, IOMAP_PAGE)

/** VGA color. */
MEM_ENTRY(VGA_COLOR, 0xb8000, 0x8000, IOMAP_PAGE)

/** Video bios. \todo ensure it is an HWMAP. */
MEM_ENTRY(VGA_BIOS, 0xc0000, 0x8000, HWMAP_PAGE)

/** Motherboard bios. \todo Ensure it is an HWMAP. */
MEM_ENTRY(MB_BIOS, 0xf0000, 0x10000, HWMAP_PAGE)

/* > 1Mb area. */

     /* To check with cpuid. */
/* /\** ISA memory hole. *\/ */
/* MEM_ENTRY(ISA_HOLE, 0x1000000, 0x100000, HWMAP_PAGE) */

/* /\** Pnp,nvram,lapic,.... \todo To be sorted. *\/ */
/* MEM_ENTRY(OTHERS_IOMAP, 0xfec00000, 0x1400000, IOMAP_PAGE) */
